<html lang="zh-Hant-TW">
<head>
  <%- include('../partial/header', {title: "9EMBA-編輯個人資料"}); %>
</head>
<body class="profile-edit-page">
  <div class="main-wrapper mb-5 rib profile">
    <nav class="navbar navbar-light bg-faded fixed-top">
      <div class="bg-faded clearfix text-center">
        <a href="/profile" class="btn btn-outline-secondary float-left rib-nav-back" style="width: 50px">
          <i class="fa fa-chevron-left" aria-hidden="true"></i>
        </a>
        <span class="navbar-text text-muted">
          編輯個人資料
        </span>  
        <input
          id="edit-profile-submit"
          class="btn btn-outline-secondary float-right"
          style="width: 50px; border-color: transparent"
          form="edit-profile-form"
          value="完成"
          type="submit"/>
      </div>
    </nav>
    <div class="container mt-5">
      <div class="row mb-3">
        <div class="col-12">
          <div class="card card-inverse" style="height: 200px;">
            <div class="card-img-overlay bg-unset"> 
              <div class="img-wrapper rounded-circle mx-auto d-block mt-5">
                <img id="profile-picture" src="<%= user.avatarImgSrc %>">
                <div style="height: 33.6px; position: absolute; right: 120px; bottom: 30px;">
                  <button class="btn btn-camera float-right" type="button" style="border:  1px solid #e6e6e6;"  data-toggle="collapse" data-target="#upload-collapse" aria-expanded="false" aria-controls="collapseExample" id="active-upload"><i class="fa fa-camera" aria-hidden="true"></i></button>
                </div>
              </div>
            </div>
          </div>
          <div class="collapse" id="upload-collapse">
            <div class="card card-block" style="border: 1px solid rgba(0,0,0,.125);">
              </i></span>
              <h5 class="card-title rib-text-color-2">圖片上傳</h5>
              <form id="upload-image-form" action="/images/upload/user" method="post" enctype="multipart/form-data" class="mb-0" data-node-type="profile">
                <div class="form-group rib-f-size-dot8rem">
                  <input type="file" class="form-control-file mb-2" name="userPhoto" aria-describedby="fileHelp" accept="image/*">
                  <span>* 圖片大小限制為3MB以下</span>  
                </div>
                <input type="submit" class="btn btn-collection float-right" value="上傳">
              </form>
            </div>
          </div>
        </div>
      </div>
      <form id="edit-profile-form" data-toggle="validator">
        <input class="form-input-avatarImgSrc" type="hidden" value="<%= user.avatarImgSrc %>">
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label rib-f-size-dot8rem rib-text-color-3">姓名</label>
          <div class="col-10">
            <input class="form-control form-input-name" type="text" value="<%= user.name %>" id="example-text-input" style="border: unset; border-bottom: 1px solid #e6e6e6;" required>
            <div class="help-block with-errors rib-text-color-5"></div>
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label rib-f-size-dot8rem rib-text-color-3">學校</label>
          <div class="col-10">
            <input class="form-control form-input-school" type="text" value="<%= user.school %>" id="example-text-input" style="border: unset; border-bottom: 1px solid #e6e6e6;">
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label rib-f-size-dot8rem rib-text-color-3">系級</label>
          <div class="col-10">
            <input class="form-control form-input-department" type="text" value="<%= user.department %>" id="example-text-input" style="border: unset; border-bottom: 1px solid #e6e6e6;">
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label rib-f-size-dot8rem rib-text-color-3">職稱</label>
          <div class="col-10">
            <input class="form-control form-input-position" type="text" value="<%= user.position %>" id="example-text-input" style="border: unset; border-bottom: 1px solid #e6e6e6;">
          </div>
        </div>
        <div class="form-group row">
          <label for="exampleTextarea" class="col-12 col-form-label rib-f-size-dot8rem rib-text-color-3">簡介</label>
          <div class="col-12">
            <textarea class="form-control count-char form-input-intro" id="exampleTextarea" rows="2" maxlength="50"><%= user.intro %></textarea>
            <span class="char-counter float-right rib-f-size-dot8rem rib-text-color-3"></span>
          </div>
        </div>
        <div class="form-group row">
          <label for="exampleTextarea" class="col-12 col-form-label rib-f-size-dot8rem rib-text-color-3">自傳</label>
          <div class="col-12">
            <textarea class="form-control count-char form-input-about" id="exampleTextarea" rows="5" maxlength="250"><%= user.about %></textarea>
            <span class="char-counter float-right rib-f-size-dot8rem rib-text-color-3"></span>
          </div>
        </div>
      </form>
      <div class="row">
        <label class="col-12 mb-3 col-form-label rib-text-color-2 rib-f-size-dot8rem">帳號設定</label>
          <div class="list-group">
            <li class="list-group-item list-group-item-action">
              <i class="fa fa-envelope col-2" aria-hidden="true"></i><span class="col-10"><%= user.local.email %></span>
            </li>
            <a href="/reset" class="list-group-item list-group-item-action"><i class="fa fa-unlock-alt col-2" aria-hidden="true"></i><span class="col-10">更換密碼</span></a>
            <a href="/logout" class="list-group-item list-group-item-action rib-text-color-5"><i class="fa fa-arrow-left col-2" aria-hidden="true"></i><span class="col-10">登出</span></a>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    <script src="./../../../js/front/count-char.js"></script>
    <script src="./../../../js/profile.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <script src="./../../../js/upload-image.js"></script>
</body>
</html>
